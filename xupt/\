#include <bits/stdc++.h>
using namespace std;
int dp[250][250];
int main(){

    int n,m;
    cin>>m>>n;
    for(int i = 1;i <= m;i++){
        for(int j = 1;j <= n;j++){
            cin>>dp[i][j];
        }
    }
    int cnt = 1,flag = 1; 
    for(int i = m-1;i > 0;i--){
        for(int j = min(n/2+flag,n);j >= max(n/2+cnt,1);j--){
            int x,y,z;
            x = dp[i+1][j-1]+dp[i][j];
            y = dp[i+1][j]+dp[i][j];
            z = dp[i+1][j+1]+dp[i][j];
            dp[i][j] = max(max(x,y),z);
        }
        cnt--;
        flag++;
    }

    int ans = -10000000;
    for(int i = 1;i <= n;i++){
        ans = max(ans,dp[1][i]);
    }

    cout<<ans<<endl;
    return 0;
}
